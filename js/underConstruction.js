"use strict";

function closeForum() {
  if (GroupID === 1 || GroupID === 2) return;
  var style = document.createElement('style');
  style.innerHTML = "body.closed {\n        background: #060709 url('http://forumfiles.ru/files/0018/22/0a/71565.gif') 50% 0;\n    }\n    \n    .login-form-reserve {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background: transparent url(http://forumfiles.ru/files/0018/22/0a/37563.png) 50% 0 repeat-y;\n        box-shadow: 0 0 0 1px rgb(81, 68, 60), 0 0 0 2px rgb(166, 149, 131), 0 0 0 3px rgb(81, 68, 60) !important;\n        padding: 20px;\n        max-width: 380px;\n    }\n\n    .login-form-reserve .welcome {\n        box-shadow: 0 0 0 1px rgb(81, 68, 60),\n            0 0 0 2px rgb(166, 149, 131),\n            0 0 0 3px rgb(81, 68, 60) !important;\n        padding: 20px;\n        font-size: 14px;\n    }\n    \n    .login-form-reserve .inline .inputfield,\n    .login-form-reserve .inline .selectfield,\n    .login-form-reserve .inline .passfield {\n        display: block;\n        width: auto;\n    }\n    \n    .login-form-reserve .toggle-form,\n    .login-form-reserve a {\n        color: #531723;\n        text-decoration: none;\n        cursor: pointer;\n        font-weight: 700;\n    }\n\n    .login-form-reserve fieldset {\n        margin: 20px 0 0;\n        padding: 0;\n    }\n\n    .login-form-reserve input[type=text],\n    .login-form-reserve input[type=password] {\n        background: rgba(199, 184, 167, 0.25);\n        padding: 2px 6px;\n        font-size: 12px;\n        border: 0;\n        box-shadow: 0 0 0 1px rgb(81, 68, 60), 0 0 0 2px rgb(166, 149, 131), 0 0 0 3px rgb(81, 68, 60);\n        color: #292625;\n        width: 100%;\n    }\n\n    .login-form-reserve input[type=button],\n    .login-form-reserve input[type=submit] {\n        background: rgba(199, 184, 167, 0.25);\n        padding: 6px;\n        font-size: 12px;\n        border: 0;\n        font-variant: small-caps;\n        box-shadow: 0 0 0 1px rgb(81, 68, 60), 0 0 0 2px rgb(166, 149, 131), 0 0 0 3px rgb(81, 68, 60);\n    }\n\n    .login-form-reserve p.formsubmit {\n        text-align: center;\n    }\n\n    .login-form-reserve form.hidden {\n        display: none;\n    }\n    ";
  document.head.appendChild(style);

  var form = function form(str) {
    return "<div class=\"login-form-reserve\">\n        <div class=\"welcome\">" + str + "</div>\n        <p class=\"formsubmit\">\n            <span class=\"toggle-form\" id=\"showReserveLoginForm\">\u0412\u0445\u043E\u0434 \u0434\u043B\u044F \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438</span>\n        </p>\n        <form id=\"reservelogin\" class=\"container hidden\" method=\"post\" action=\"" + location.origin + "/login.php?action=in\" onsubmit=\"return process_form(this)\">\n            <fieldset>\n                <div class=\"fs-box\">\n                    <input type=\"hidden\" name=\"form_sent\" value=\"1\">\n                    <input type=\"hidden\" name=\"redirect_url\" value=\"\">\n                    <p class=\"inputfield required\">\n                        <label for=\"fld1\">\u0418\u043C\u044F <em>(\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E)</em></label><br>\n                        <span class=\"input\"><input type=\"text\" id=\"fld1\" name=\"req_username\" size=\"25\" maxlength=\"25\"></span>\n                    </p>\n                    <p class=\"inputfield required\">\n                        <label for=\"fld2\">\u041F\u0430\u0440\u043E\u043B\u044C <em>(\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E)</em></label><br>\n                        <span class=\"input\"><input type=\"password\" id=\"fld2\" name=\"req_password\" size=\"16\" maxlength=\"16\"></span>\n                    </p>\n                    <p class=\"infofield\">\u0415\u0441\u043B\u0438 \u0412\u044B \u043D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B \u0438\u043B\u0438 \u0437\u0430\u0431\u044B\u043B\u0438 \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0443\u044E \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0438\u0436\u0435.</p>\n                </div>\n            </fieldset>\n            <p class=\"formsubmit\"><input type=\"submit\" class=\"button\" name=\"login\" value=\"\u0412\u043E\u0439\u0442\u0438\"></p>\n            <p class=\"formsubmit\">\n                <a href=\"" + location.origin + "/register.php\">\u0415\u0449\u0435 \u043D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B?</a>\n            </p>\n            <p class=\"formsubmit\">\n                <a href=\"" + location.origin + "/login.php?action=forget\">\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?</a>\n            </p>\n        </form>\n    </div>";
  };

  document.body.classList.add('closed');
  document.body.innerHTML = form('Мы меняем дизайн и проводим уборку. Скоро вернёмся.');
  document.getElementById('showReserveLoginForm').addEventListener('click', function () {
    document.getElementById('reservelogin').classList.toggle('hidden');
  });
};
